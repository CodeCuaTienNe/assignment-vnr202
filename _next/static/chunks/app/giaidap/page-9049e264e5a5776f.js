(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[270],{2738:(n,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>w});var t=i(5155),s=i(3764),c=i(8698),h=i(3324),l=i(8422),a=i(8097),r=i(6039),o=i(6060),g=i(9637),d=i(5229),m=i(6191),u=i(5937),v=i(7188),x=i(63),p=i(2115),y=i(6504),j=i(5459),N=i(2014);i(6924);let{Header:k,Content:f}=h.A,{Title:b}=l.A,C=[{title:"Hiệp định Giơnevơ v\xe0 Bối cảnh 1954",text:"Ph\xe2n t\xedch t\xe1c động của Hiệp định Giơnevơ (7/1954) đến việc h\xecnh th\xe0nh đường lối chiến lược của Đảng"},{title:"Đại hội III v\xe0 Hai Nhiệm vụ Chiến lược",text:"Giải th\xedch t\xednh độc lập, tự chủ của Đảng khi đề ra đường lối hai nhiệm vụ chiến lược tại Đại hội III (9/1960)"},{title:"Nghị quyết 15 v\xe0 Con đường Bạo lực C\xe1ch mạng",text:"Ph\xe2n t\xedch tầm quan trọng của Nghị quyết 15 (1/1959) trong việc chuyển hướng c\xe1ch mạng miền Nam"},{title:"Phong tr\xe0o Đồng Khởi 1960",text:"Đ\xe1nh gi\xe1 \xfd nghĩa lịch sử của phong tr\xe0o Đồng Khởi bắt đầu từ Bến Tre v\xe0 lan rộng ra cả nước"},{title:"Miền Bắc XHCN - Hậu phương Chiến lược",text:"Ph\xe2n t\xedch vai tr\xf2 'quyết định nhất' của miền Bắc trong việc x\xe2y dựng CNXH v\xe0 hỗ trợ miền Nam"},{title:"Đường Hồ Ch\xed Minh v\xe0 Chiến lược Vận chuyển",text:"Giải th\xedch tầm quan trọng của Đường m\xf2n Hồ Ch\xed Minh trong việc chi viện cho chiến trường miền Nam"},{title:"Chiến thắng Chiến tranh Cục bộ v\xe0 Việt Nam h\xf3a",text:"Ph\xe2n t\xedch sự l\xe3nh đạo s\xe1ng tạo của Đảng trong việc đ\xe1nh bại chiến lược 'Chiến tranh Cục bộ' v\xe0 'Việt Nam h\xf3a'"},{title:"M\xf9a Xu\xe2n 1975 v\xe0 Thống nhất Đất nước",text:"Đ\xe1nh gi\xe1 \xfd nghĩa lịch sử của chiến dịch Hồ Ch\xed Minh v\xe0 việc ho\xe0n th\xe0nh mục ti\xeau thống nhất đất nước"}],A=["Hiệp định Giơnevơ 1954","Đại hội III v\xe0 Hai nhiệm vụ","Nghị quyết 15 - Bạo lực c\xe1ch mạng","Phong tr\xe0o Đồng Khởi 1960","Miền Bắc - Hậu phương chiến lược","Đường m\xf2n Hồ Ch\xed Minh","Chiến tranh cục bộ","Việt Nam h\xf3a","M\xf9a Xu\xe2n 1975","Thống nhất đất nước"];function w(){let n=(0,x.useRouter)(),[e,i]=(0,p.useState)([]),[l,w]=(0,p.useState)(""),[I,S]=(0,p.useState)(!1),[H,L]=(0,p.useState)([{id:1,title:"Cuộc tr\xf2 chuyện mới",active:!0}]),{generateResponse:q,loading:z,error:D}=function(){let[n,e]=(0,p.useState)(!1),[i,t]=(0,p.useState)(null);return{generateResponse:async n=>{let i=[{key:"AIzaSyChDAeQ0Kf1eTaF3i-dcTNR2cywLsiglUs",version:"v1"},{key:"AIzaSyANoN3t3b3JH1txSJ4nXGRPug8jjfMp_hg",version:"v2"},{key:"AIzaSyDwTOPq91NSVFjo7GI9ALQ_gN17783QYcM",version:"v3"}].filter(n=>n.key);if(0===i.length)return t("Kh\xf4ng c\xf3 API key khả dụng"),null;e(!0),t(null);let s=[];for(let l of i)if(!s.includes(l.version))try{console.log("Đang thử sử dụng API key ".concat(l.version,"..."));let i=new N.M4({apiKey:l.key}),t=await i.models.generateContent({model:"gemini-2.5-flash",contents:"\nNhiệm vụ ch\xednh: Giải đ\xe1p c\xe1c thắc mắc về Sự L\xe3nh đạo của Đảng Cộng sản Việt Nam trong Cuộc Kh\xe1ng chiến chống Đế quốc Mỹ X\xe2m lược (1954–1975) cho sinh vi\xean.\n\nPhạm vi nội dung chuy\xean m\xf4n:\n- Giai đoạn 1954-1975: Từ Hiệp định Giơnevơ đến thống nhất đất nước\n- Hai nhiệm vụ chiến lược: X\xe2y dựng CNXH ở miền Bắc v\xe0 c\xe1ch mạng DTDN ở miền Nam\n- Nghị quyết 15 (1959) v\xe0 phong tr\xe0o Đồng Khởi (1960)\n- Đường Hồ Ch\xed Minh v\xe0 vai tr\xf2 hậu phương chiến lược\n- Chiến tranh cục bộ, Việt Nam h\xf3a v\xe0 Tổng tiến c\xf4ng M\xf9a Xu\xe2n 1975\n- \xdd nghĩa lịch sử v\xe0 kinh nghiệm l\xe3nh đạo của Đảng\n\nNguy\xean tắc giải đ\xe1p:\n- Diễn giải dễ hiểu, s\xfac t\xedch, dựa tr\xean tư liệu lịch sử ch\xednh thống\n- Li\xean hệ với CLO2: Ph\xe2n t\xedch sự l\xe3nh đạo trong hai cuộc kh\xe1ng chiến (1945-1975)\n- Li\xean hệ với CLO4: Củng cố niềm tin v\xe0o sự l\xe3nh đạo của Đảng\n- Sử dụng ng\xf4n ngữ gần gũi, tr\xe1nh thuật ngữ kh\xf4 khan\n- Đảm bảo t\xednh ch\xednh x\xe1c lịch sử v\xe0 kh\xe1ch quan khoa học\n\nTập trung v\xe0o việc gi\xfap sinh vi\xean hiểu s\xe2u sắc về t\xednh độc lập, tự chủ v\xe0 s\xe1ng tạo trong đường lối l\xe3nh đạo của Đảng trong giai đoạn 1954-1975.\n\n\n"+n});return console.log("✅ Th\xe0nh c\xf4ng với API key ".concat(l.version)),e(!1),t.text}catch(n){var c,h;if(console.error("❌ Lỗi với API key ".concat(l.version,":"),n),s.push(l.version),((null==(c=n.message)?void 0:c.includes("503"))||503===n.status||(null==(h=n.message)?void 0:h.includes("Service Unavailable")))&&(console.log("\uD83D\uDD04 API key ".concat(l.version," gặp lỗi 503, chuyển sang key kh\xe1c...")),i.filter(n=>!s.includes(n.version)).length>0)){t("Dịch vụ tạm thời kh\xf4ng khả dụng với ".concat(l.version,". Đang thử key kh\xe1c..."));continue}if(0===i.filter(n=>!s.includes(n.version)).length)break}return e(!1),t(s.length>1?"Tất cả API key đều gặp sự cố. Vui l\xf2ng thử lại sau v\xe0i ph\xfat. (Đ\xe3 thử: ".concat(s.join(", "),")"):"Dịch vụ tạm thời kh\xf4ng khả dụng. Vui l\xf2ng thử lại sau \xedt ph\xfat."),null},loading:n,error:i}}(),P=async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;if(!n.trim())return;let e={text:n,isUser:!0};i(n=>[...n,e]),w("");let t={text:"",isUser:!1,isLoading:!0};i(n=>[...n,t]);let s=await q(n);i(n=>{let e=[...n];if(e.pop(),s){let n=s?s.replace(/\*\*(.*?)\*\*/g,"**$1**").replace(/^\* /gm,"- ").replace(/([.!?])\s*(\*\*[^*]+\*\*)/g,"$1\n\n$2").replace(/\n\s*\n/g,"\n\n").trim():s;e.push({text:n,isUser:!1,isLoading:!1})}else e.push({text:"Xin lỗi, đ\xe3 xảy ra lỗi khi xử l\xfd c\xe2u hỏi của bạn. Vui l\xf2ng thử lại sau.",isUser:!1,isLoading:!1});return e})};return(0,t.jsxs)(h.A,{style:{minHeight:"100vh"},children:[(0,t.jsx)(k,{style:{position:"fixed",top:0,width:"100%",zIndex:1e3,background:"#8b1a1a",padding:"0 16px",height:"56px",lineHeight:"56px"},children:(0,t.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,t.jsx)(a.Ay,{type:"text",icon:(0,t.jsx)(s.A,{}),onClick:()=>n.push("/"),style:{color:"white",display:"flex",alignItems:"center",fontSize:"16px",height:"40px",padding:"0 8px"},title:"Quay về trang ch\xednh"}),(0,t.jsx)("div",{style:{width:40,height:26,background:"#d43731",position:"relative",borderRadius:3,border:"1px solid #b91c1c",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"#f9f350",style:{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.3))"},children:(0,t.jsx)("path",{d:"M12 2l2.4 7.2h7.6l-6 4.8 2.4 7.2-6-4.8-6 4.8 2.4-7.2-6-4.8h7.6z"})})}),(0,t.jsxs)(b,{level:5,style:{color:"white",margin:0,fontSize:"16px",fontWeight:600},children:[(0,t.jsx)(c.A,{style:{marginRight:8}}),"Trợ l\xfd AI - Lịch sử Đảng Cộng sản Việt Nam"]})]})})}),(0,t.jsx)(f,{style:{marginTop:56},children:(0,t.jsxs)("div",{className:"app-container",children:[I&&(0,t.jsx)("div",{className:"sidebar-overlay open",onClick:()=>S(!1)}),(0,t.jsxs)("div",{className:"sidebar ".concat(I?"open":""),children:[(0,t.jsxs)("div",{className:"sidebar-header",children:[(0,t.jsx)("h3",{children:"Lịch sử tr\xf2 chuyện"}),(0,t.jsx)(a.Ay,{className:"sidebar-close-btn",icon:(0,t.jsx)(d.A,{size:16}),type:"text",onClick:()=>S(!1)})]}),(0,t.jsx)(a.Ay,{className:"new-session-btn",icon:(0,t.jsx)(m.A,{size:16}),onClick:()=>{let n={id:H.length+1,title:"Cuộc tr\xf2 chuyện ".concat(H.length+1),active:!1};L(e=>[n,...e.map(n=>({...n,active:!1}))]),i([]),S(!1)},children:"Cuộc tr\xf2 chuyện mới"}),(0,t.jsx)("div",{className:"session-list",children:H.map(n=>(0,t.jsxs)("div",{className:"session-item ".concat(n.active?"active":""),onClick:()=>{var e;return e=n.id,void(L(n=>n.map(n=>({...n,active:n.id===e}))),i([]),S(!1))},children:[(0,t.jsx)(u.A,{size:16,style:{marginRight:"8px"}}),n.title]},n.id))})]}),(0,t.jsx)("div",{className:"main-content ".concat(I?"with-sidebar":""),children:(0,t.jsxs)("div",{className:"chat-container",children:[0===e.length?(0,t.jsxs)("div",{className:"welcome-screen",children:[(0,t.jsx)("div",{className:"welcome-title",children:"Sự L\xe3nh đạo của Đảng Cộng sản Việt Nam (1954-1975)"}),(0,t.jsx)("div",{className:"welcome-subtitle",children:"Trợ l\xfd AI chuy\xean về lịch sử Đảng trong cuộc kh\xe1ng chiến chống đế quốc Mỹ x\xe2m lược. H\xe3y bắt đầu cuộc tr\xf2 chuyện bằng c\xe1ch chọn một chủ đề dưới đ\xe2y hoặc đặt c\xe2u hỏi của ri\xeang bạn."}),(0,t.jsx)("div",{className:"suggested-prompts",children:C.map((n,e)=>(0,t.jsxs)("div",{className:"prompt-card",onClick:()=>{P(n.text)},children:[(0,t.jsx)("div",{className:"prompt-card-title",children:n.title}),(0,t.jsx)("div",{className:"prompt-card-text",children:n.text})]},e))})]}):(0,t.jsxs)("div",{className:"chat-messages",children:[e.map((n,e)=>(0,t.jsxs)("div",{className:"message ".concat(n.isUser?"user-message":"ai-message"),children:[(0,t.jsx)("div",{className:"message-avatar",children:n.isUser?"ME":(0,t.jsx)(c.A,{})}),(0,t.jsx)("div",{className:"message-content",children:n.isUser?n.text:n.isLoading?(0,t.jsxs)("div",{className:"ai-loading-skeleton",children:[(0,t.jsx)(r.A,{active:!0,paragraph:{rows:3,width:["100%","90%","60%"]},title:!1}),(0,t.jsx)("div",{className:"loading-text",children:"Đang ph\xe2n t\xedch v\xe0 t\xecm kiếm th\xf4ng tin lịch sử..."})]}):(0,t.jsx)(y.oz,{remarkPlugins:[j.A],components:{p:n=>{let{children:e}=n;return(0,t.jsx)("p",{style:{marginBottom:"0.5rem",lineHeight:"1.6"},children:e})},strong:n=>{let{children:e}=n;return(0,t.jsx)("strong",{style:{color:"var(--lacquer-red)",fontWeight:"700"},children:e})},ul:n=>{let{children:e}=n;return(0,t.jsx)("ul",{style:{paddingLeft:"1.5rem",marginBottom:"0.5rem"},children:e})},ol:n=>{let{children:e}=n;return(0,t.jsx)("ol",{style:{paddingLeft:"1.5rem",marginBottom:"0.5rem"},children:e})},li:n=>{let{children:e}=n;return(0,t.jsx)("li",{style:{marginBottom:"0.25rem",listStyleType:"disc"},children:e})},h1:n=>{let{children:e}=n;return(0,t.jsx)("h1",{style:{color:"var(--lacquer-red)",fontSize:"1.5rem",fontWeight:"800",marginBottom:"1rem",borderBottom:"2px solid var(--lacquer-gold)",paddingBottom:"0.5rem"},children:e})},h2:n=>{let{children:e}=n;return(0,t.jsx)("h2",{style:{color:"var(--lacquer-red)",fontSize:"1.25rem",fontWeight:"700",marginBottom:"0.75rem"},children:e})},h3:n=>{let{children:e}=n;return(0,t.jsx)("h3",{style:{color:"var(--lacquer-red-light)",fontSize:"1.1rem",fontWeight:"700",marginBottom:"0.5rem"},children:e})},code:n=>{let{children:e}=n;return(0,t.jsx)("code",{style:{background:"var(--museum-beige)",color:"var(--jade-green)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontSize:"0.9rem"},children:e})},blockquote:n=>{let{children:e}=n;return(0,t.jsx)("blockquote",{style:{borderLeft:"4px solid var(--lacquer-red)",paddingLeft:"1rem",margin:"1rem 0",fontStyle:"italic",background:"rgba(212, 55, 49, 0.05)",borderRadius:"0 8px 8px 0",padding:"0.75rem 0 0.75rem 1rem"},children:e})}},children:n.text})})]},e)),z&&(0,t.jsx)("div",{className:"loading-container",children:(0,t.jsx)(o.A,{size:"large"})}),D&&(0,t.jsxs)("div",{className:"error-message",children:["Lỗi: ",D]})]}),e.length>0&&(0,t.jsxs)("div",{className:"suggestion-tags",children:[(0,t.jsx)("div",{className:"suggestion-tags-title",children:"\uD83D\uDCA1 Gợi \xfd c\xe2u hỏi tiếp theo:"}),(0,t.jsx)("div",{className:"suggestion-tags-list",children:A.map((n,e)=>(0,t.jsx)("button",{className:"suggestion-tag",onClick:()=>P(n),disabled:z,children:n},e))})]}),(0,t.jsxs)("div",{className:"input-container",children:[(0,t.jsx)("div",{className:"input-wrapper",children:(0,t.jsx)(g.A.TextArea,{value:l,onChange:n=>w(n.target.value),onKeyPress:n=>{"Enter"===n.key&&!n.shiftKey&&(n.preventDefault(),!z&&l.trim()&&P())},placeholder:"Nhập c\xe2u hỏi ở đ\xe2y nh\xe9 \uD83D\uDE0D...",autoSize:{minRows:1,maxRows:4},style:{background:"transparent",border:"none",color:"#333333",fontSize:"1rem"}})}),(0,t.jsx)(a.Ay,{type:"primary",icon:(0,t.jsx)(v.A,{size:20}),onClick:()=>P(),disabled:z||!l.trim(),className:"send-button",style:{background:"var(--yellow-500)",borderColor:"var(--yellow-500)",color:"var(--red-800)",fontWeight:"600",width:"40px",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center"}})]})]})})]})})]})}},2791:(n,e,i)=>{Promise.resolve().then(i.bind(i,2738))},6924:()=>{}},n=>{n.O(0,[947,798,246,737,592,162,441,255,358],()=>n(n.s=2791)),_N_E=n.O()}]);